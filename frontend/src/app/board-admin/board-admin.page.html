<ion-header class="header" mode="ios">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button size="small" (click)="goBack()" icon-start>
        <ion-icon name="chevron-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title class=" ion-padding-center">เพิ่มรายการสินค้า</ion-title>
  </ion-toolbar>
</ion-header>

<ion-card *ngIf="!submitted">

  <ion-item>
    <input type="file" #fileInput style="display: none" (change)="selectFile($event)" />
    <div class="upload-box" *ngIf="!selectedImage" (click)="fileInput.click()">
      <ion-icon name="camera" class="camera-icon"></ion-icon>
      <div class="upload-text">เลือกรูปภาพ</div>
    </div>
    <img [src]="selectedImage" *ngIf="selectedImage" class="selected-image" (click)="fileInput.click()" />
    <ion-icon *ngIf="selectedImage" name="checkmark-circle-outline" class="selected-icon"></ion-icon>
    <span *ngIf="selectedImage" class="file-name">{{ selectedFiles?.item(0)?.name }}</span>
  </ion-item>

  <ion-item>
    <ion-label position="floating">
      ชื่อสินค้า
    </ion-label>
    <ion-input placeholder="กรอกชื่อสินค้า" id="product_name" required [(ngModel)]="product.product_name">
    </ion-input>
    <!-- <div class="validation-message" *ngIf="!product.product_name">กรุณากรอกชื่อสินค้า</div> -->
  </ion-item>

  <ion-item>
    <ion-label position="floating">
      ชื่อยี่ห้อสินค้า
    </ion-label>
    <ion-input placeholder="กรอกชื่อยี่ห้อสินค้า" id="product_brand" required [(ngModel)]="product.product_brand">
    </ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating">
      รายละเอียด
    </ion-label>
    <ion-input placeholder="กรอกรายละเอียด" id="product_description" required [(ngModel)]="product.product_description">
    </ion-input>
  </ion-item>

  <ion-item>
    <ion-label class="custom-label">
      ราคา
    </ion-label>
    <ion-input placeholder="กรอกราคา" id="product_price" required type="number" [(ngModel)]="product.product_price"
      class="custom-input" (ionChange)="handleInvalidPrice()">
    </ion-input>
    <ion-label position="after" class="custom-unit">
      บาท
    </ion-label>
  </ion-item>
  
  <ion-item>
    <ion-label class="custom-label">
      จำนวนสินค้า
    </ion-label>
    <ion-input placeholder="กรอกจำนวน" id="product_quantity" required type="number"
      [(ngModel)]="product.product_quantity" class="custom-input" (ionChange)="handleInvalidQuantity()">
    </ion-input>
    <ion-label position="after" class="custom-unit">
      ชิ้น
    </ion-label>
  </ion-item>
  
  

  <ion-item>
    <ion-label position="floating">
      รายละเอียดอื่นๆ
    </ion-label>
    <ion-input placeholder="กรอกรายละเอียดอื่นๆ" id="product_other_detail" required
      [(ngModel)]="product.product_other_detail">
    </ion-input>
  </ion-item>

  <ion-button (click)="saveProduct()" expand="block" color="success" [disabled]="!isFormValid()">
    เพิ่มสินค้า
  </ion-button>

  <ion-item>
  </ion-item>

</ion-card>